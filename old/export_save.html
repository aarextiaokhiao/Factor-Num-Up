<head>
	<title>Factor Num Up</title>
    <link rel="icon" href="src/icon.png">
	<link href="stylesheets/theme.css" rel="stylesheet">
	<script>
		function export_save() {
			load_theme()
			var savefile=localStorage.getItem("MTUyODU5MDI3OTE5MQ==")
			document.getElementById("exportText").value=savefile
			savefile=atob(savefile)
			document.getElementById("decodedText").value=savefile
			console.log("JSON-ified save:")
			console.log(JSON.parse(savefile))
		}
		
		function encode_save() {
			var unencoded_save=document.getElementById("decodedText").value
			document.getElementById("exportText").value=btoa(unencoded_save)
			console.log("JSON-ified save (before encoding):")
			console.log(JSON.parse(unencoded_save))
		}
		
		function overwrite_save() {
			localStorage.setItem("MTUyODU5MDI3OTE5MQ==",btoa(JSON.stringify(JSON.parse(document.getElementById("decodedText").value))))
			document.getElementById("exportText").value="Your new savefile has delivered to main game. Please (re)load the main game."
		}
	</script>
	<link id='theme' rel="stylesheet">
	<script type="text/javascript" src="src/load_theme.js"></script>
</head>
<body onload='export_save()'>
	<b style='font-size:36px'>Factor Num Up</b>
	<div style='font-size:24px'>Export save <text style='color:#7f7f7f'>(in another way)</text></div>
	<br>
	If you are having problems for exporting your save, try using this method.<br>
	If you found the bug, you can share it at my Discord server.<br>
	<input id='exportText' style='width:480px' readonly></input><br><br>
	Decoded save:<br>
	<input id='decodedText' style='width:480px'></input><br>
	<button onclick='encode_save()'>Encode save</button> <button onclick='overwrite_save()'>Overwrite save</button><br><br>
	JSON-ified save (check in the console)<br>
</body>